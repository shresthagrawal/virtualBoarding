<!doctype HTML>
<html>
    <head>
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    </head>
    <script src="aframe.min.js"></script>
    <script src="aframe-ar.min.js"></script>
    <script src="aframe-extras.loaders.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Oxygen" rel="stylesheet">

    <body style='margin : 0px; overflow: hidden;'>
        <!-- we add detectionMode and matrixCodeType to tell AR.js to recognize barcode markers -->
        <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;'>
        
        <div id="arjsDebugUIContainer" style="position: fixed; top: 10px; width:10%; text-align: left; z-index: 1;color: grey;font-family: 'Oxygen', sans-serif;">
                <div style="color: rgba(0, 0, 0, 0.9); background-color:rgba(0, 0, 0, 0.5);  display: inline-block; padding: 0.5em; margin: 0.5em; text-align: left;font-size: 1.5rem;">
                    <span style="display: block;"><span style="color:lightgreen;" id="still"><b>Gates open in: </b></span>
                    <span style="color: #FAFCFD;" id="datetime"></span>
                    <br/>
                    <span style="color:lightgreen;" id="s">Seat: </span><span style="color: #FAFCFD;">5F</span>
                    <br/>
                    <span style="color:lightgreen;" id="g">Gate: </span><span style="color: #FAFCFD;">59</span>
                    <br/>
                    <span style="color:lightgreen;" id="a">Airline: </span><span style="color: #FAFCFD;">Lufthansa</span>
                    </span>
    
                </div>
        </div>

        <a-assets>
            <a-asset-item id="animated-asset" src="./CesiumMan.gltf"></a-asset-item>
        </a-assets>

        <a-assets>
            <a-asset-item id="star-bucks" src="star_bucks1.glb"></a-asset-item>
        </a-assets>

        <a-assets>
            <a-asset-item id="red-bull" src="./get_fire.gltf"></a-asset-item>
        </a-assets>

        <a-assets>
                <a-asset-item id="shaking" src="handshake.glb"></a-asset-item>
        </a-assets>

        <a-assets>
                <a-asset-item id="heels" src="rotation.glb"></a-asset-item>
        </a-assets>

        <a-marker type='barcode' value='8'>
          <a-entity
              gltf-model="#animated-asset"
              scale="3 3 3"
              rotation='-90 0 0'
              animation-mixer>
          </a-entity>
        </a-marker>


        <a-marker type='barcode' value='2'>
          <a-entity
              gltf-model="#star-bucks"
              scale="5 5 5"
              rotation='-90 0 0'
              animation-mixer>
          </a-entity>
        </a-marker>

        <a-marker type='barcode' value='3' >
            <a-entity
                gltf-model="#red-bull"
                scale="0.5 0.5 0.5"
                rotation='-90 0 0'
                animation-mixer>
            </a-entity>
        </a-marker>

        <a-marker type='barcode' value='4'>
                <a-entity
                    gltf-model="#shaking"
                    scale="2 2 2"
                    rotation='0 -90 90'
                    animation-mixer>
                </a-entity>
        </a-marker>
      
        <a-marker type='barcode' value='5' >
            <a-entity
                gltf-model="#heels"
                scale="1 1 1"
                rotation='-90 0 0'
                animation-mixer>
            </a-entity>
        </a-marker>


       <a-camera-static/>>
        </a-scene>
    </body>

    <script>
        
            var d2 = new Date(Date.parse("2019-04-07T23:50"));
            var d1 = new Date();
            var dt = d2-d1;
            var dl = new Date(dt);
            if(dt>600000){
                document.getElementById("datetime").innerHTML = Math.floor(dt/3600000).toLocaleString()+"h "+Math.floor(Math.floor(dt%3600000)/60000).toLocaleString()+"m";
            }else{
                document.getElementById("datetime").innerHTML ="";
                document.getElementById("still").style.color="red";
                document.getElementById("s").style.color="red";
                document.getElementById("g").style.color="red";
                document.getElementById("a").style.color="red";
                document.getElementById("still").innerHTML = "GO BOARDING NOW !";
            }
    
                
    </script>
    </html>
